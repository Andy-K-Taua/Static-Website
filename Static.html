
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Static Site</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

<script>
function copyPlaceholder(element) {
  const text = element.textContent;
  navigator.clipboard.writeText(text).then(() => {
    dynamicStatus.textContent = 'Placeholder text copied to clipboard!';
    setTimeout(() => {
      dynamicStatus.textContent = '';
    }, 2000);
  });
}
</script>

    <style>
        #decoded-output ul {
            list-style-type: disc;
            padding-left: 20px;
        }
        #decoded-output li {
            margin-bottom: 10px;
        }
    </style>
</head>
<body class="pt-0 flex flex-col justify-center items-center h-screen bg-gray-900">
    <nav class="bg-gray-800 w-full flex justify-between items-center p-4 fixed top-0 left-0 z-20">
        <div class="text-white font-bold">Zolo</div>
        <button id="hamburger-btn" class="text-white hover:text-gray-300 focus:outline-none">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
        </button>
        <ul id="nav-links" class="hidden flex flex-col absolute bg-gray-600 w-full top-14 left-0 p-4">

<li class="mb-4">
    <a id="tab-0-link" href="#tab0" class="text-white hover:text-gray-300">User Info</a>
  </li>


            <li class="mb-4">
                <a id="tab-1-link" href="#tab1" class="text-white hover:text-gray-300">1. Paste Job Description</a>
            </li>
            <li class="mb-4">
                <a id="tab-2-link" href="#tab2" class="text-white hover:text-gray-300">2. Paste Resume | Cover-Letter</a>
            </li>
            <li class="mb-4">
                <a id="tab-3-link" href="#tab3" class="text-white hover:text-gray-300">3. Press Generate | Paste into AI</a>
            </li>
            <li class="mb-4">
                <a id="tab-4-link" href="#tab4" class="text-white hover:text-gray-300">4. Paste generated Resume | Cover-Letter & Decode </a>
            </li>
            <li class="mb-4">
                <a id="tab-5-link" href="#tab5" class="text-white hover:text-gray-300">5. Final Output</a>
            </li>
            <li class="mt-8">
                <a id="reset-link" href="#" class="text-white hover:text-gray-300">Reset</a>
            </li>
        </ul>
    </nav>

    <div id="dynamic-status" class="fixed top-16 left-0 w-full p-4 text-white text-center z-10">
    </div>

    <div class="mt-32 w-full p-4 overflow-y-auto flex-1">

<div id="tab-0" class="tab-content">
  <form id="user-info-form">
    <input type="text" id="name" name="name" class="rounded-xl p-1 mb-4 border border-gray-600 bg-gray-800 text-gray-200 w-full focus:border-blue-500 focus:ring-blue-500" placeholder="Name:" autocomplete="off">
    
    <textarea id="other-details" name="other-details" class="rounded-xl p-1 mb-4 border border-gray-600 bg-gray-800 text-gray-200 w-full focus:border-blue-500 focus:ring-blue-500" rows="5" placeholder="Other Details"></textarea>
    
    <label for="document-type" class="block text-gray-200 mb-2">Document Type:</label>
    <select id="document-type" name="document-type" class="rounded-xl p-1 mb-4 border border-gray-600 bg-gray-800 text-gray-200 w-full focus:border-blue-500 focus:ring-blue-500">
      <option value="resume">Resume</option>
      <option value="cover-letter">Cover Letter</option>
    </select>
    
    <button id="submit-btn-0" class="mx-auto block bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Submit</button>
  </form>
</div>
        <div id="tab-1" class="tab-content">
            <div id="status-1" class="hidden"></div>
            <textarea id="text-box-1" style="text-align: center;" class="rounded-xl p-1 mb-4 border border-gray-600 bg-gray-800 text-gray-200 w-full h-full focus:border-blue-500 focus:ring-blue-500" rows="10" placeholder="Paste Job Description here ..."></textarea>
            <button id="submit-btn-1" class="mx-auto block bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Submit</button>
        </div>

        <div id="tab-2" class="tab-content hidden">
  <div id="status-2" class="hidden"></div>
  <textarea id="text-box-2" style="text-align: center;" class="rounded-xl p-1 mb-4 border border-gray-600 bg-gray-800 text-gray-200 w-full h-full focus:border-blue-500 focus:ring-blue-500" rows="10" placeholder="Paste your Resume | Cover-Letter here ..."></textarea>
  <input id="file-input" type="file" accept=".txt" class="hidden">
  <div class="flex justify-between gap-4">
    <button id="load-from-file-btn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded flex-1">Load from file</button>
    <button id="submit-btn-2" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded flex-1">Submit</button>
  </div>
</div>

        <div id="tab-3" class="tab-content hidden">
            <div id="status-3" class="hidden"></div>
            <textarea id="text-box-3" style="text-align: center;" class="rounded-xl p-1 mb-4 border border-gray-600 bg-gray-800 text-gray-200 w-full h-full focus:border-blue-500 focus:ring-blue-500" rows="10" placeholder="Push Generate, then Copy to copy results into AI ..."></textarea>
            <div class="flex justify-between gap-4">
                <button id="back-btn-3" class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded flex-1">Back</button>
                <button id="generate-btn" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded flex-1">Generate</button>
                <button id="copy-btn" class="bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded flex-1">Copy</button>
            </div>
        </div>

        <div id="tab-4" class="tab-content hidden">
            <div id="status-4" class="hidden"></div>
            <textarea id="text-box-4" style="text-align: center;" class="rounded-xl p-1 mb-4 border border-gray-600 bg-gray-800 text-gray-200 w-full h-full focus:border-blue-500 focus:ring-blue-500" rows="10" placeholder="Paste results from AI, Add your details here, push Decode then Copy ..."></textarea>
            <div id="decoded-output" class="rounded-xl p-1 mb-4 border border-gray-600 bg-gray-800 text-gray-200 w-full h-full hidden"></div>
            <div class="flex justify-between gap-4">
                <button id="back-btn-4" class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded flex-1">Back</button>
                <button id="decode-btn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded flex-1">Decode</button>
                <button id="copy-btn-4" class="bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded flex-1">Copy</button>
            </div>
        </div>

        <div id="tab-5" class="tab-content hidden">
  <textarea id="final-output" style="text-align: center;" class="rounded-xl p-1 mb-4 border border-gray-600 bg-gray-800 text-gray-200 w-full h-full focus:border-blue-500 focus:ring-blue-500" rows="10" placeholder=" ..."></textarea>
  <div id="html-output-wrapper">
    <div id="html-output" class="rounded-xl p-1 mb-4 border border-gray-600 bg-gray-800 text-gray-200 w-full h-full hidden"></div>
  </div>
  <div class="flex justify-between gap-2">
        <button id="back-btn-5" class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-1 px-2 sm:py-2 sm:px-4 rounded flex-1 text-xs sm:text-base">Back</button>
<button id="paste-btn-5" class="bg-green-500 hover:bg-green-700 text-white font-bold py-1 px-2 sm:py-2 sm:px-4 rounded flex-1 text-xs sm:text-base">Paste</button>
<button id="extract-btn-5" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 sm:py-2 sm:px-4 rounded flex-1 text-xs sm:text-base">Extract</button>
<button id="submit-btn-5" class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-1 px-2 sm:py-2 sm:px-4 rounded flex-1 text-xs sm:text-base">Submit</button>
<button id="copy-btn-5" class="bg-purple-500 hover:bg-purple-700 text-white font-bold py-1 px-2 sm:py-2 sm:px-4 rounded flex-1 text-xs sm:text-base">Copy</button>
    </div>
</div>

    </div>

    <script>
        const hamburgerBtn = document.getElementById('hamburger-btn');
        const navLinks = document.getElementById('nav-links');
        const dynamicStatus = document.getElementById('dynamic-status');

        hamburgerBtn.addEventListener('click', () => {
            navLinks.classList.toggle('hidden');
        });

        const tabLinks = document.querySelectorAll('#nav-links li a');
        const tabContents = document.querySelectorAll('.tab-content');

        function loadTabContent() {
  const hash = window.location.hash;
  tabContents.forEach((tabContent, index) => {
    if (`#tab${index}` === hash) {
      tabContent.classList.remove('hidden');
    } else {
      tabContent.classList.add('hidden');
    }
  });
  navLinks.classList.add('hidden');
}

        window.addEventListener('hashchange', loadTabContent);

        window.location.hash = '#tab0';
        loadTabContent();

        const textBox1 = document.getElementById('text-box-1');
        const submitBtn1 = document.getElementById('submit-btn-1');

        submitBtn1.addEventListener('click', () => {
            try {
                const submittedText = textBox1.value;
                console.log(`User submitted: ${submittedText}`);
                localStorage.setItem(`savedText1`, submittedText);
                dynamicStatus.textContent = `Text saved successfully!`;
                setTimeout(() => {
                    dynamicStatus.textContent = '';
                }, 3000);
                submitBtn1.disabled = true;
                submitBtn1.classList.add('opacity-50', 'cursor-not-allowed');
                setTimeout(() => {
                    document.getElementById(`tab-1`).classList.add('hidden');
                    document.getElementById(`tab-2`).classList.remove('hidden');
                    window.location.hash = `#tab2`;
                }, 2000);
            } catch (error) {
                console.error(error);
                dynamicStatus.textContent = `Error saving text.`;
                setTimeout(() => {
                    dynamicStatus.textContent = '';
                }, 2000);
            }
        });

        const fileInput = document.getElementById('file-input');
const loadFromFileBtn = document.getElementById('load-from-file-btn');
const submitBtn2 = document.getElementById('submit-btn-2');
const textBox2 = document.getElementById('text-box-2');

loadFromFileBtn.addEventListener('click', () => {
  fileInput.click();
});

fileInput.addEventListener('change', (e) => {
  const file = e.target.files[0];
  const reader = new FileReader();
  reader.onload = () => {
    const fileContent = reader.result;
    textBox2.value = fileContent;
    submitBtn2.click(); 
  };
  reader.readAsText(file);
});

submitBtn2.addEventListener('click', () => {
  try {
    const submittedText = textBox2.value;
    console.log(`User submitted: ${submittedText}`);
    localStorage.setItem(`savedText2`, submittedText);
    dynamicStatus.textContent = `Text saved successfully!`;
    setTimeout(() => {
      dynamicStatus.textContent = '';
    }, 3000);
    submitBtn2.disabled = true;
    submitBtn2.classList.add('opacity-50', 'cursor-not-allowed');
    setTimeout(() => {
      document.getElementById(`tab-2`).classList.add('hidden');
      document.getElementById(`tab-3`).classList.remove('hidden');
      window.location.hash = `#tab3`;
    }, 2000);
  } catch (error) {
    console.error(error);
    dynamicStatus.textContent = `Error saving text.`;
    setTimeout(() => {
      dynamicStatus.textContent = '';
    }, 2000);
  }
});

        document.getElementById('reset-link').addEventListener('click', (e) => {
            e.preventDefault();
            navLinks.classList.add('hidden'); // Close the nav bar
            dynamicStatus.textContent = 'Reseting all saved submissions!';
            setTimeout(() => {
                window.location.reload();
            }, 2000);
        });


const userInfoForm = document.getElementById('user-info-form'); 
const submitBtn0 = document.getElementById('submit-btn-0');

submitBtn0.addEventListener('click', (e) => {
  e.preventDefault();
  try {
    const name = document.getElementById('name').value;
    const otherDetails = document.getElementById('other-details').value;
    const documentType = document.getElementById('document-type').value;
    const userInfo = { name, otherDetails, documentType };
    localStorage.setItem('userInfo', JSON.stringify(userInfo));
    console.log('User info saved:', userInfo);
    dynamicStatus.textContent = 'User info saved successfully!';
    setTimeout(() => {
      dynamicStatus.textContent = '';
    }, 3000);
    submitBtn0.disabled = true;
    submitBtn0.classList.add('opacity-50', 'cursor-not-allowed');
    if (documentType === 'resume') {
      setTimeout(() => {
        document.getElementById('tab-0').classList.add('hidden');
        document.getElementById('tab-1').classList.remove('hidden');
        window.location.hash = '#tab1';
      }, 2000);
    } else {
      setTimeout(() => {
        document.getElementById('tab-0').classList.add('hidden');
        document.getElementById('tab-3').classList.remove('hidden');
        window.location.hash = '#tab3';
      }, 2000);
    }
  } catch (error) {
    console.error(error);
    dynamicStatus.textContent = 'Error saving user info.';
    setTimeout(() => {
      dynamicStatus.textContent = '';
    }, 2000);
  }
});


        document.getElementById('back-btn-3').addEventListener('click', () => {
            window.location.hash = '#tab2';
            document.getElementById('tab-2').classList.remove('hidden');
            document.getElementById('tab-3').classList.add('hidden');
        });

        document.getElementById('generate-btn').addEventListener('click', () => {
            const savedText1 = localStorage.getItem('savedText1');
            const savedText2 = localStorage.getItem('savedText2');
            if (savedText1 && savedText2) {
                const additionalText = `1. Thoroughly analyze the provided job description (Info1) and customize the candidate's information (Info2) to align with the job's specific requirements. To create A Resume and Cover letter. 
Ensure the output is ATS-friendly, visually appealing, and tailored to capture the attention of hiring managers.
Format the response using HTML tags, including:
Headings <h1>,
Subheadings <h2>,
Bold Headings <strong>
Unordered lists with bullet points (<ul><li>...</li></ul>),
Paragraphs <p>
For resumes, highlight relevant work experience, skills, and achievements.
For cover letters, craft a compelling narrative that showcases the candidate's passion, qualifications, and fit for the role.
Output only the customised resume(from summary down) draw a line between the two | cover-letter , without any additional text.`;
             
  document.getElementById('text-box-3').value = 'Info1>>\n\n' + savedText1 + '\n\nInfo2>>\n\n' + savedText2 + '\n\n' + additionalText;
                
                // Disable the button
                const generateBtn = document.getElementById('generate-btn');
                generateBtn.disabled = true;
                generateBtn.classList.add('opacity-50', 'cursor-not-allowed');
            } else {
                dynamicStatus.textContent = 'No saved text found!';
                setTimeout(() => {
                    dynamicStatus.textContent = '';
                }, 2000);
            }
        });

        document.getElementById('copy-btn').addEventListener('click', () => {
    const textArea = document.getElementById('text-box-3');
    navigator.clipboard.writeText(textArea.value).then(() => {
        dynamicStatus.textContent = 'Text copied to clipboard!';
        setTimeout(() => {
            dynamicStatus.textContent = '';
        }, 2000);
        const copyBtn = document.getElementById('copy-btn');
        copyBtn.disabled = true;
        copyBtn.classList.add('opacity-50', 'cursor-not-allowed');
        document.getElementById('text-box-4').value = '';
        window.location.hash = '#tab4';
        document.getElementById('tab-4').classList.remove('hidden');
        document.getElementById('tab-3').classList.add('hidden');
    }, () => {
        dynamicStatus.textContent = 'Failed to copy text!';
        setTimeout(() => {
            dynamicStatus.textContent = '';
        }, 2000);
    });
});

	document.getElementById('back-btn-4').addEventListener('click', () => {
    window.location.hash = '#tab3';
    document.getElementById('tab-3').classList.remove('hidden');
    document.getElementById('tab-4').classList.add('hidden');
});


document.getElementById('decode-btn').addEventListener('click', () => {
    const textArea = document.getElementById('text-box-4');
    const outputElement = document.getElementById('decoded-output');

    outputElement.innerHTML = marked.parse(textArea.value);
    // console.log(`Parsed HTML: ${outputElement.innerHTML}`);

    outputElement.classList.remove('hidden');
    textArea.classList.add('hidden');
    outputElement.style.visibility = 'visible';

    const decodeBtn = document.getElementById('decode-btn');
    decodeBtn.disabled = true;
    decodeBtn.classList.add('opacity-50', 'cursor-not-allowed');
});


document.getElementById('copy-btn-4').addEventListener('click', () => {
  const savedUserInfo = JSON.parse(localStorage.getItem('userInfo'));
  if (!savedUserInfo) {
    dynamicStatus.textContent = 'No user info saved!';
    setTimeout(() => {
      dynamicStatus.textContent = '';
    }, 2000);
    return;
  }
  const textArea = document.getElementById('text-box-4');
  let output = '';
  if (savedUserInfo.documentType === 'resume') {
    output = `
      <h1>${savedUserInfo.name}</h1>
      <h3>${savedUserInfo.otherDetails}</h3>
      ${textArea.value}
    `;
  } else {
    output = textArea.value;
  }
  navigator.clipboard.writeText(output).then(() => {
    dynamicStatus.textContent = 'Text copied to clipboard!';
    setTimeout(() => {
      dynamicStatus.textContent = '';
    }, 2000);
    copiedText = output;
    window.location.hash = '#tab5';
    document.getElementById('tab-5').classList.remove('hidden');
    document.getElementById('tab-4').classList.add('hidden');

    // Disable the button
    const copyBtn4 = document.getElementById('copy-btn-4');
    copyBtn4.disabled = true;
    copyBtn4.classList.add('opacity-50', 'cursor-not-allowed');
  }, () => {
    dynamicStatus.textContent = 'Failed to copy text!';
    setTimeout(() => {
      dynamicStatus.textContent = '';
    }, 2000);
  });
});

        document.getElementById('back-btn-5').addEventListener('click', () => {
            window.location.hash = '#tab4';
            document.getElementById('tab-4').classList.remove('hidden');
            document.getElementById('tab-5').classList.add('hidden');
        });

document.getElementById('paste-btn-5').addEventListener('click', () => {
    navigator.clipboard.readText().then((text) => {
        document.getElementById('final-output').value += text;
        dynamicStatus.textContent = 'Text pasted from clipboard!';
        setTimeout(() => {
            dynamicStatus.textContent = '';
        }, 2000);
    }, () => {
        dynamicStatus.textContent = 'Failed to paste text!';
        setTimeout(() => {
            dynamicStatus.textContent = '';
        }, 2000);
    });
const pasteBtn5 = document.getElementById('paste-btn-5');
    pasteBtn5.disabled = true;
    pasteBtn5.classList.add('opacity-50', 'cursor-not-allowed');
});


document.getElementById('extract-btn-5').addEventListener('click', async () => {
  try {
    const pastedText = document.getElementById('text-box-4').value;
    const textToUse = copiedText || pastedText;
    const formattedText = textToUse
			   .replace(/<h2>/g, '<hr><h2>')
			//.replace(/<h1>(.*?)<\/h1>/g, '<h1 style="font-weight: lighter; font-size: 20px; text-align: center; font-family: 'Open Sans';">$1</h1>');

    const template = 
`<!DOCTYPE html>
      <html>
      <head>
        <style>
          body {
            font-family: 'Open Sans';
	   font-size: 11px;
          }
          h1 {
            font-weight: lighter;
	   font-size: 20px;
	   text-align: center;
          }
	 h2 {
	   font-size: 14px;
	 }
	 h3 {
            font-size: 10px;
	   text-align: center;
	 }
        </style>
      </head>
      <body>
        ${formattedText}
      </body>
      </html>
    `;


    const finalOutput = document.getElementById('final-output');
    finalOutput.value = template;

    // No need to copy to clipboard here
    dynamicStatus.textContent = 'Text extracted!';
    setTimeout(() => dynamicStatus.textContent = '', 2000);

    const extractBtn5 = document.getElementById('extract-btn-5');
    extractBtn5.disabled = true;
    extractBtn5.classList.add('opacity-50', 'cursor-not-allowed');
  } catch (error) {
    console.log(error);
    dynamicStatus.textContent = 'Failed to extract text!';
    setTimeout(() => dynamicStatus.textContent = '', 2000);
  }
});

document.getElementById('submit-btn-5').addEventListener('click', () => {
  const finalOutput = document.getElementById('final-output').value;
  const outputElement = document.getElementById('html-output');
  const iframe = document.createElement('iframe');

  iframe.frameBorder = 0;
  iframe.width = '100%';
  iframe.height = '500';
  iframe.srcdoc = finalOutput;
  iframe.style.borderRadius = '5px';
  iframe.style.overflow = 'hidden';

  iframe.onload = function() {
    iframe.contentDocument.body.style.color = '#000000';
    iframe.contentDocument.body.style.background = '#ffffff';
    
    // Now you can access iframe.contentDocument
    const iframeH1 = iframe.contentDocument.querySelector('h1');
    if (iframeH1) {
      const styles = iframe.contentDocument.defaultView.getComputedStyle(iframeH1);
      console.log(styles.fontFamily);
      console.log(styles.fontSize);
      console.log(styles.fontWeight);
      console.log(iframeH1.nodeName);

    }
  
  };

  outputElement.innerHTML = '';
  outputElement.appendChild(iframe);
 
  outputElement.classList.remove('hidden');
  document.getElementById('final-output').classList.add('hidden');
  
  dynamicStatus.textContent = 'Final output submitted successfully!';
  setTimeout(() => {
  }, 2000);

  const submitBtn5 = document.getElementById('submit-btn-5');
  submitBtn5.disabled = true;
  submitBtn5.classList.add('opacity-50', 'cursor-not-allowed');
});


document.getElementById('copy-btn-5').addEventListener('click', () => {
  const iframe = document.querySelector('#html-output iframe');
  if (iframe) {
    const range = iframe.contentDocument.createRange();
    range.selectNodeContents(iframe.contentDocument.body);
    const selection = iframe.contentWindow.getSelection();
    selection.removeAllRanges();
    selection.addRange(range);
    iframe.contentDocument.execCommand('copy');
    dynamicStatus.textContent = 'Iframe content copied to clipboard!';
    setTimeout(() => {
      dynamicStatus.textContent = '';
    }, 2000);

    // Disable the button
    const copyBtn5 = document.getElementById('copy-btn-5');
    copyBtn5.disabled = true;
    copyBtn5.classList.add('opacity-50', 'cursor-not-allowed');

    // Confetti animation
    confetti({
      particleCount: 100,
      spread: 70,
      origin: { y: 0.6 }
    });
  } else {
    dynamicStatus.textContent = 'No iframe content found!';
    setTimeout(() => {
      dynamicStatus.textContent = '';
    }, 2000);
  }
});


    </script>
</body>
</html>